<%= turbo_frame_tag 'modal' do %>

  <div class='fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-20'
       data-controller="modal"
       data-modal-target="background"
       data-action="click->modal#closeModal">
    <div class="base-l"
         data-modal-target="modal">
      <div class="text-lg font-semibold text-primary-content"><%= @spot.name %></div>
      <%= form_with model: @spot,
          html: { data: { action: 'submit->modal#closeModalBySubmit' } } do |f| %>
        <%= f.text_field :name, class: 'hidden' %>
        <div class="mt-3">
          <%= f.label :parking, class: 'text-base font-semibold text-primary-content' %>
          <%= f.select :parking,
            Spot.parkings.keys.map { |key| [t_enum('spot', 'parking', key), key] },
            { include_blank: true },
            { class: 'w-64 h-10 px-3 drop-shadow-md rounded-full' } %> 
        </div>
        <div>
          <%= f.label :parking_limitation, class: 'text-base font-semibold text-primary-content' %>
          <%= f.select :parking_limitation,
            Spot.parking_limitations.keys.map { |key| [t_enum('spot', 'parking_limitation', key), key] },
            { include_blank: true },
            { class: 'w-64 h-10 px-3 drop-shadow-md rounded-full' } %>
        </div>
        <div>
          <%= f.fields_for :difficulty, @difficulty do |f| %>
            <%= f.label :level, '行きやすさ', class: 'text-base font-semibold text-primary-content' %>
            <%= f.select :level,
                Difficulty.levels.keys.map { |key| [t_enum('difficulty', 'level', key), key] },
                { include_blank: true },
                { class: 'w-64 h-10 px-3 drop-shadow-md rounded-full' } %> 
          <% end %>
        <div>
          <%= f.label :category, class: 'text-base font-semibold text-primary-content' %>
          <%= f.select :category,
            Spot.categories.keys.map { |key| [t_enum('spot', 'category', key), key] },
            { include_blank: true },
            { class: 'w-64 h-10 px-3 drop-shadow-md rounded-full' } %> 
        </div>
        </div>
        <div>
          <%= fields_for :comment, @comment do |f| %>
            <%= f.label :content, 'おすすめポイント', class: 'text-base font-semibold text-primary-content' %>
            <%= f.text_area :content,
              { size: "20x10",
                class: 'daisy-textarea w-64 h-32 px-3 drop-shadow-md bg-white' } %>
          <% end %>
        </div>
        <%= f.submit '更新', class: 'btn-submit',
            data: { action: 'submit->modal#closeModalBySubmit' } %>
      <% end %>
    </div>
  </div>

<% end %>