<%= turbo_frame_tag 'wizard' do %>

  <%= javascript_include_tag 'spot_registrations/step2', 'data-turbo-track': 'reload', async: true %>

  <div class="w-52 h-24 m-auto mt-3 rounded-2xl content-center bg-base-100">
    <p class="text-2xl font-semibold">かんたん登録</p>
    <p class="text-xl font-semibold">STEP 2/4</p>
  </div>
  <%= form_with model: @spot,
                url: step3_spot_registrations_path,
                method: :get,
                data: { controller: 'wizard', wizard_target: 'contents' },
                class: 'grow' do |f| %>
    <div>
      <p class="m-3 text-base font-semibold text-primary-content">
        駐車場はありましたか？
      </p>
      <%= f.select :parking,
          Spot.parkings.keys.map { |key| [i18n('spot', 'parking', key), key] },
          { include_blank: true },
          { id: 'parking-select',
            class: 'w-64 h-10 px-3 drop-shadow-md rounded-full' } %>           
    </div>
    <div id='parking-limitation-div' class="hidden">
      <p class="m-3 text-base font-semibold text-primary-content">
        駐車場に制限はありましたか？
      </p>
      <%= f.select :parking_limitation,
          Spot.parking_limitations.keys.map { |key| [i18n('spot', 'parking_limitation', key), key] },
          { include_blank: true },
          { id: 'parking-limitaiton-select',
            class: 'w-64 h-10 px-3 drop-shadow-md rounded-full' } %>
    </div>
    <div class="flex flex-row absolute bottom-3 left-1/2 -translate-x-1/2">
      <%= f.submit '戻る',
          name: 'back',
          data: { wizard_target: 'back', action: 'click->wizard#back' },
          class: 'daisy-btn daisy-btn-secondary w-20 h-10 mr-10 rounded-full text-base' %>
      <%= f.submit '次へ',
          name: 'next',
          disabled: true,
          data: { wizard_target: 'next', action: 'click->wizard#next' },
          id: 'go-to-step3-button',
          class: 'daisy-btn daisy-btn-secondary w-20 h-10 ml-10 rounded-full text-base' %>
    </div>
  <% end %>

<% end %>