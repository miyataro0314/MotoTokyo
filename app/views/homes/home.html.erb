<% content_for :title, 'ホーム - MotoTokyo' %>

<div class="base-container text-center">

  <%= turbo_frame_tag 'modal' %>

  <h1 class="h1">ホーム</h1>

  <% if current_user.profile.nil? %>
    <%= link_to new_profile_path, class: 'btn-secondary flex content-center' do %>
      <%= svg_tag 'vuesax/linear/info-circle.svg' %>
      <p>プロフィールの登録をしましょう！</p>
    <% end %>
  <% end %>

  <%= render partial: 'shared/divider', locals: { heading: '東京の天気情報'} %>

  <%= render partial: 'homes/weather_forecast_card',
            locals: { first: @first, second: @second, third: @third } %>

  <%# <div class="base-l mt-8">
    <p class="text-primary-content font-semibold font-base">
      最近チェックしたスポット
    </p> %>
    <%# <%= render 'spots/spot_card', locals: { spot: @spot, spot_detail: @spot_detail } %>
    <%# <div>
      <p class="text-primary-content">
        前回と同じ条件で<br>
        検索する
      </p> %>
      <%# <%= link_to '大田区:ご飯', search_spots_searches_path, class: 'btn-secondary' %>
    <%# </div>
  </div> %>

  <%= render partial: 'shared/divider', locals: { heading: '最近登録されたスポット'} %>

  <% if @spots.any? %>
    <div class="px-8 flex gap-3.5 overflow-x-scroll whitespace-nowrap no-scroll-bar">
      <% @spots.each do |spot| %>
        <%= render partial: 'spots/spot_card',
                   locals: { spot: spot, spot_detail: spot.spot_detail, from: 'home' } %>
      <% end %>
  <% else %>
    <div class="mt-3 text-center">該当するスポットは<br>ありませんでした</div>      
  <% end %>

</div>

